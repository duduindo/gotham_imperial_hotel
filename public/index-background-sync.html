<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ensuring Offline Functionality with Background Sync</title>
  <style> body { background-color: lightgrey; } </style>
</head>
<body>




  <script>

    navigator.serviceWorker.ready.then(registration => {
      registration.sync.register('send-messages');

      /*
        This is return:
          SyncEventÂ {
            isTrusted: true,
            tag: "send-messages",
            lastChance: false,
            type: "sync",
            target: ServiceWorkerGlobalScope,
            etc...
       */
    });

    // ============= THIS IS IN ServiceWorker =========== //

  </script>

  <script>
    navigator.serviceWorker.register('/index-background-sync.sw.js', {scope: '/index-background-sync.html'})
      .then(reg => console.log('Scope registered: ', reg.scope))
      .catch(err => console.log(err))
  </script>
</body>
</html>
